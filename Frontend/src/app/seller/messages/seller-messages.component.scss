$primary: #6366F1; $primary-dark: #4F46E5; $dark: #0F172A; $success: #10B981; $light: #F8FAFC;

.messages-page { height: calc(100vh - 150px); min-height: 500px; }

.messages-layout { display: grid; grid-template-columns: 350px 1fr; height: 100%; background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.05); @media (max-width: 900px) { grid-template-columns: 1fr; } }

.conversations-panel { display: flex; flex-direction: column; border-right: 1px solid #E2E8F0; @media (max-width: 900px) { display: none; } }

.panel-header { display: flex; align-items: center; justify-content: space-between; padding: 1.5rem; border-bottom: 1px solid #E2E8F0; h2 { font-size: 1.25rem; font-weight: 600; color: $dark; } h3 { font-size: 1rem; font-weight: 600; color: $dark; margin-bottom: 0.15rem; } }

.unread-badge { background: $primary; color: white; font-size: 0.75rem; font-weight: 600; padding: 0.25rem 0.75rem; border-radius: 50px; }

.conversations-list { flex: 1; overflow-y: auto; }

.conversation-item { display: flex; gap: 1rem; padding: 1rem 1.5rem; cursor: pointer; transition: all 0.2s; border-bottom: 1px solid #F1F5F9;
  &:hover { background: $light; }
  &.active { background: rgba($primary, 0.05); border-left: 3px solid $primary; }
  &.unread { background: rgba($primary, 0.03); .conv-name { font-weight: 600; } }
}

.conv-avatar { width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;
  &.admin { background: linear-gradient(135deg, #C9A962, #9A7B3A); }
  &.client { background: linear-gradient(135deg, $primary, $primary-dark); }
  .material-icons { color: white; font-size: 1.25rem; }
}

.conv-content { flex: 1; min-width: 0; }
.conv-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem; }
.conv-name { font-weight: 500; color: $dark; }
.conv-time { font-size: 0.75rem; color: #94A3B8; }
.conv-preview { display: flex; align-items: center; gap: 0.5rem; }
.conv-message { flex: 1; font-size: 0.85rem; color: #64748B; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.conv-unread { min-width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background: $primary; color: white; font-size: 0.7rem; font-weight: 600; border-radius: 50%; }

.empty-conversations { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 3rem; color: #94A3B8; .material-icons { font-size: 3rem; margin-bottom: 0.5rem; opacity: 0.5; } }

.messages-panel { display: flex; flex-direction: column; height: 100%; }

.chat-info { display: flex; align-items: center; gap: 1rem; }
.chat-avatar { width: 44px; height: 44px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
  &.admin { background: linear-gradient(135deg, #C9A962, #9A7B3A); }
  &.client { background: linear-gradient(135deg, $primary, $primary-dark); }
  .material-icons { color: white; font-size: 1.25rem; }
}
.chat-type { font-size: 0.8rem; color: #64748B; }

.messages-container { flex: 1; overflow-y: auto; padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem; background: $light; }

.message { display: flex; &.own { justify-content: flex-end; .message-content { background: linear-gradient(135deg, $primary, $primary-dark); color: white; border-radius: 20px 20px 4px 20px; .message-time { color: rgba(255,255,255,0.7); } } } }

.message-content { max-width: 70%; padding: 1rem 1.25rem; background: white; border-radius: 20px 20px 20px 4px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); p { margin: 0 0 0.5rem 0; line-height: 1.5; } }
.message-time { font-size: 0.7rem; color: #94A3B8; }

.message-input { display: flex; gap: 1rem; padding: 1.5rem; border-top: 1px solid #E2E8F0; background: white;
  input { flex: 1; padding: 1rem 1.5rem; border: 1px solid #E2E8F0; border-radius: 50px; font-size: 0.9rem; font-family: inherit; &:focus { outline: none; border-color: $primary; } &:disabled { background: $light; } }
}

.send-btn { width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, $primary, $primary-dark); border: none; border-radius: 50%; cursor: pointer; transition: all 0.2s;
  .material-icons { color: white; font-size: 1.25rem; }
  &:hover:not(:disabled) { transform: scale(1.05); box-shadow: 0 4px 15px rgba($primary, 0.4); }
  &:disabled { opacity: 0.6; cursor: not-allowed; }
}

.no-selection { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #94A3B8; .material-icons { font-size: 4rem; margin-bottom: 1rem; opacity: 0.3; } h3 { color: $dark; margin-bottom: 0.5rem; } p { font-size: 0.9rem; } }

.loader-sm { display: inline-block; width: 18px; height: 18px; border: 2px solid rgba(255,255,255,0.3); border-top-color: white; border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
